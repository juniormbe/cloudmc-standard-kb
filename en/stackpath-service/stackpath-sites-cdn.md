---
title: "StackPath Service: Content Delivery Network"
slug: stackpath-sites-cdn
---


As stated in the [overview](stackpath-sites-overview.md), a site bridges the delivery of content from the origin to the end-user.  The heavy work of getting that content to your users is performed by the CDN.  The CDN receives requests from your end-users, and fetches them from your origin server.  Following rules that you set, the CDN will store a site's assets in caches on the StackPath Edge servers.  The StackPath global network is then able to accelerate the delivery of the assets from the cache to users, enhancing performance and user experience.

When your site is properly configured, your end-users will access your application via the StackPath CDN without their knowing that there is an intermediary.  This is because the delivery domain will use a DNS record within your domain, rather than a StackPath domain.

For a very simplified example, let's say that https://www.acme.com is currently served from your own servers.  This includes all content, both static and dynamic.  Let's then imagine that your site becomes fully integrated with the StackPath CDN, and let's also imagine that we can watch the very first request coming in from your first end-user.  The user enters the URL for Acme into their browser bar and hits Return.  What happens?  Because your domain's DNS will be configured to point `www.acme.com` (this is your delivery domain) to say `xyz123.stackpathcdn.com` (this is your StackPath endpoint), customers accessing your site will never see the StackPath address, since the delivery domain is set to your domain.  The StackPath CDN receives your end-user's request.  The CDN will check its cache and see that it has no assets for the requested URL, so the CDN will connect to the origin that you specified in the site configuration, and make the same request as it received from your customer.

When your server responds to the CDN, it sends back a set of HTTP headers as well as the HTML for your landing page.  The CDN immediately sends the HTML on to your end-user, and at the same time it will check the headers to see if the origin says it is allowed to cache the response.  In this case, the headers say that this response should not be cached, so that's it, the CDN will take no further action.

At this point, the browser has received the response and begins rendering the page on the end-user's screen.  The browser sees that it needs to load an image, `https://www.acme.com/image.jpeg`.  The cycle repeats: browser send the request to `www.acme.com`, the CDN sees the request, checks its cache, sees no asset for `https://www.acme.com/image.jpeg`, makes the request to the origin, the origin responds with the file, and the CDN responds to the browser with the file.  Except this time, when the CDN checks the headers, it sees that the origin allows the file to be cached, so the CDN stores `https://www.acme.com/image.jpeg` for your site on the StackPath Edge servers.

Your end-user now clicks through to a second page.  This page also includes the same image, `https://www.acme.com/image.jpeg`.  Now we see the usefulness of the CDN:  when it receives the request for this image, the CDN matches the request against the asset already stored in the cache.  We have a **cache hit**, so the CDN immediately sends back the image to the browser, eliminating the step of going all the way to the origin, and thereby freeing up the origin for other tasks.

Following this example, site features allow administrators to configure the origin where assets are pulled from, the length of time to store them in the cache, how to determine the uniqueness of an asset, as well as many other behaviors.

As you can see, there are many applications where a CDN can have a significant impact on performance.  You can put the CDN in front of your StackPath Workload, or even in front of object storage services such as S3.  The example above uses HTTPS, because StackPath allows you to upload your existing SSL certificate and private key to enable your site to support HTTPS connections.

We recommend developing a strategy for your use of caching.  The above example had a mix of cacheable and non-cacheable content, and you can configure your site to optimize the settings for your content.  Also, it is vitally important to have your Web server at the origin be configured to serve your assets with the correct headers in order to cache those assets effectively.  Depending on your organization, both your development and operations teams may have interest in how your caching strategy will impact planning and deployments.
